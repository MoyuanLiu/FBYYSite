{% extends "kcklist_manage.html" %}

{% block emptymsg %}<strong>没有符合查询条件的数据，请检查查询条件！！</strong>{% endblock %}



{% block pageination %}
{% if kcklist %}
<div class="d-inline-flex p-3 container-fluid">
<ul class="pagination">
    {% if kcklist.has_previous %}
    <li class="page-item"><a class="page-link" href="#" onclick="querykck(1)">首页</a></li>
    <li class="page-item"><a class="page-link" href="#" onclick="querykck({{kcklist.previous_page_number}})">上一页</a></li>
    {% else %}
    <li class="page-item disabled"><a class="page-link" href="#">首页</a></li>
    <li class="page-item disabled"><a class="page-link" href="#">上一页</a></li>
    {% endif %}
    <li class="page-item active"><a class="page-link" href="#" onclick="querykck({{currentpage}})">{{currentpage}}</a></li>
    {% if kcklist.has_next %}
    <li class="page-item"><a class="page-link" href="#" onclick="querykck({{kcklist.next_page_number}})">下一页</a></li>
    <li class="page-item"><a class="page-link" href="#" onclick="querykck({{totalpages}})">尾页</a></li>
    {% else %}
    <li class="page-item disabled"><a class="page-link" href="#">下一页</a></li>
    <li class="page-item disabled"><a class="page-link" href="#">尾页</a></li>
    {% endif %}
    <li class="page-item"><input id="pagenumber" type="number" class="form-control"  min="1" max="{{totalpages}}" value="{{currentpage}}" onkeyup="if(this.value>{{totalpages}}){this.value=''}else{if(this.value.length==1){this.value=this.value.replace(/[^1-9]/g,'')}else{this.value=this.value.replace(/\D/g,'')}}" onafterpaste="if(this.value>{{totalpages}}){this.value=''}else{if(this.value.length==1){this.value=this.value.replace(/[^1-9]/g,'')}else{this.value=this.value.replace(/\D/g,'')}}"></li>
    <li class="page-item"><button type="button" class="btn" id="btnjumppage">跳转</button></li>
    <li class="page-item">
        <span class="form-control alert-success" >当前结果共有{{totalpages}}页</span>
    </li>
</ul>
</div>
<script>
    function querykck(querypage){
        $("#id_queryform").attr("action","/fbyysite/reportmanage/kck/query/"+querypage);
        $("#id_queryform").submit();
    }
    $("#btnjumppage").on('click',function(){
                var jumppagenum = $("#pagenumber").val();
                if(jumppagenum===''){
                }else{
                   querykck(jumppagenum);
                }
             });
</script>
{% endif %}
{% endblock %}